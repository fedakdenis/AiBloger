@model IReadOnlyList<AiBloger.Core.Entities.NewsItem>
@{
	ViewData["Title"] = "News";
}
<style>
	h1 { margin: 0 0 16px; }
	table { border-collapse: collapse; width: 100%; }
	th, td { border: 1px solid #ddd; padding: 8px; }
	th { background: #f5f5f5; text-align: left; }
	tr:nth-child(even) { background: #fafafa; }
	.controls { margin: 12px 0; }
	.controls form { display: inline-block; }
</style>
<h1>News</h1>

<div class="controls">
	<form method="get">
		<label>Hours:
			<input type="number" name="hours" value="@ViewContext?.HttpContext?.Request?.Query["hours"]" min="1" max="168" />
		</label>
		<button type="submit">Refresh</button>
	</form>
</div>

@if (Model == null || Model.Count == 0)
{
	<p>No news.</p>
}
else
{
	<table>
		<thead>
			<tr>
				<th>ID</th>
				<th>Title</th>
				<th>Source</th>
				<th>Author</th>
				<th>Category</th>
				<th>Published</th>
				<th>Link</th>
			</tr>
		</thead>
		<tbody>
		@foreach (var n in Model)
		{
			<tr>
				<td>@n.Id</td>
				<td>@n.Title</td>
				<td>@n.Source</td>
				<td>@n.Author</td>
				<td>@n.Category</td>
				<td>@n.PublishDate.ToString("g", System.Globalization.CultureInfo.CurrentCulture)</td>
				<td><a href="@n.Url" target="_blank" rel="noopener">Open</a></td>
			</tr>
		}
		</tbody>
	</table>
}
